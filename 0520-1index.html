<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>生命週期</title>
  <script src="https://unpkg.com/mithril/mithril.js"></script>
</head>

<body>
  <div id="main">
    <script>
      let main = document.querySelector("#main")

      let Btn = () => {
        return {
        data:{
          bgColor:"#eee"
        },
        view: function (v) {
            _this = this
            return m("button", {
              // 屬性 
              style: {
                fontSize: "20px",
                padding: "5px 10px",
                margin: "5px 10px",
                background: _this.data.bgColor,
                borderRadius: "5px",
                border: "none"
              },
              id: "btn1",
              class: "btn1",
              onmouseover: () => { // 滑鼠hover當下
                _this.data.bgColor = "#fa0"
              },
              onmouseout: () => { // 滑鼠hover移開後
                _this.data.bgColor = "#eee"
              }
            },
              // 渲染的內容
              v.children[0]
            )
          }
        }
      }
      let Home = {
        oninit: function (v) {
          // console.log(v); // undefine
        },
        oncreate: function () {
          // console.log(v); // dom元素
        },
        onupdate: function () { },
        onbeforeupdate: function () { },
        onremove: function () { },
        onbeforeremove: function () { },
        view: function (vnode) {
          return m("", [
            m("","This is a homepage."),
            m(Btn, {  // 引入第15行的Btn
              name: "Btn1"  // 可將原本組件的內容改變
            },["Btn1"]),
            m(Btn, { // 引入第15行的Btn
              name: "Btn2"  // 可將原本組件的內容改變
            },["Btn2"])
          ])
        }
      }
      
      let Page = {
        view:function(){
          return m("",[
            m("","This is a page.")
           ])
        }
      }

      // 路由的寫法
      // m.mount(main, Home)
      m.route(main, "home", {
        "/home": Home,  // 將網址後面接home，會引導到let Home = {...}這個頁面
        "/page": Page,  // 將網址後面接page，會引導到let Page = {...}這個頁面
      })
      //  第一個參數是要渲染的地方，第二個參數是出路由，第三個參數是路由表。
    </script>
  </div>
</body>

</html>
